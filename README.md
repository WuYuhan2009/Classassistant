# ClassAssistant

班级桌面小助手（Qt Widgets + CMake，Windows 7 / Linux 兼容，离线优先）。

## 本次升级亮点

- 全局视觉升级为**简洁白色主色调**，统一卡片式界面，减少老式原生窗口观感。
- 全局字体优先使用 **HarmonyOS Sans / HarmonyOS Sans SC**（自动回退到系统字体）。
- 设置页重构为**左侧分组菜单 + 右侧详情页**，支持最多三级配置层级（类似 iPadOS 设置逻辑）。
- 新增实用功能：
  - **课堂计时器**（倒计时、暂停/继续、到时提示音）
  - **课堂便签**（本地保存，离线可用）
- 新增安全项：默认禁用 URL 打开，避免误触发联网行为，可在设置中手动开启。

## 主要功能

- 侧栏展开态固定在屏幕右侧垂直居中，固定宽度，不可调整组件尺寸。
- 收起态为右下角悬浮球（置顶、可拖动、点击恢复）。
- 程序常驻托盘，关闭窗口仅隐藏；支持托盘菜单与点击展开。
- 考勤流程：名单勾选缺勤 → 保存 → 右上角考勤概览实时更新（固定顶边、向下延伸、自动换行，窗口置于底层）。
- 随机点名增强：支持开始/停止两段式、结果高亮、最近点名历史（可配置条数）和一键复制结果。
- 设置页按“显示与启动 / 课堂工具 / 数据管理 / 安全与离线”分区。

## 本地图标方案（Windows 7 兼容）

程序只读取本地图标。请将 PNG 图标放到主程序目录：

- `assets/icons/`

程序会按以下优先级查找：

1. 绝对路径（用于自定义按钮）
2. `<程序目录>/assets/icons/`
3. `<程序目录>/assets/`
4. `<当前工作目录>/assets/icons/`
5. `<当前工作目录>/assets/`

若图标缺失，会回退为文字或系统图标，不会崩溃。

## 数据存储

使用 `QStandardPaths::AppDataLocation`：

- `config.json`：设置、按钮、名单、课堂便签

## 构建

### Linux / macOS

```bash
chmod +x build.sh
./build.sh clean release
```

### Windows

```bat
build.bat clean release
```
