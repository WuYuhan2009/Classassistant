# ClassAssistant

班级桌面小助手（Qt Widgets + CMake，**Windows 7 / Linux 兼容**，离线优先）。

## 全新美化与交互升级

- 主界面、工具窗口、设置页统一为**白色简约卡片风格**，所有主要控件均为圆角设计，避免直角视觉。
- 全局字体优先使用 **HarmonyOS Sans / HarmonyOS Sans SC**（自动回退系统字体）。
- 增强过渡动画：
  - 侧边栏展开/收起采用平滑位移 + 渐变透明动画。
  - 工具窗口支持统一淡入淡出动画。
  - 主界面收起时可联动隐藏其他工具窗口（可配置）。

## 主界面新增功能按钮

默认主界面按钮已扩展为课堂常用本地功能：

- 班级考勤
- 随机点名
- 课堂计时
- 课堂便签
- 分组抽签（按每组人数自动随机分组）
- 课堂计分（双队伍加减分）

> 所有新增功能均为本地离线功能，不依赖联网。

## 设置页（类似 iPadOS 分层逻辑）

- 左侧：一级/二级/三级菜单导航
- 右侧：对应详细设置页面

支持更多可自定义项：

- 显示与启动：
  - 悬浮球透明度
  - 侧栏宽度
  - 考勤概览宽度
  - 紧凑模式
  - 动画时长
  - 启动行为（默认收起、托盘点击展开、开机显示考勤等）
  - 收起时联动隐藏工具窗口
- 课堂工具：
  - 随机点名历史条数
  - 分组默认人数
  - 计分板队伍名称
  - 默认程序路径
- 安全与离线：
  - 默认禁用 URL 外链（可手动开启）
- 数据管理：
  - 名单导入、按钮管理、恢复默认

## 本地图标方案（Windows 7 兼容）

程序只读取本地图标。请将 PNG 图标放到主程序目录：

- `assets/icons/`

程序会按以下优先级查找：

1. 绝对路径（用于自定义按钮）
2. `<程序目录>/assets/icons/`
3. `<程序目录>/assets/`
4. `<当前工作目录>/assets/icons/`
5. `<当前工作目录>/assets/`

若图标缺失，会回退为文字或系统图标，不会崩溃。

## 数据存储

使用 `QStandardPaths::AppDataLocation`：

- `config.json`：设置、按钮、名单、课堂便签等

## 构建

### Linux / macOS

```bash
chmod +x build.sh
./build.sh clean release
```

### Windows

```bat
build.bat clean release
```
