# ClassAssistant

班级助手（Qt Widgets + CMake）。

## 已实现重点

- 侧栏展开态固定在屏幕右侧**垂直居中**。
- 收起态为右下角圆形悬浮球（置顶、可拖动、点击恢复侧栏）。
- 程序常驻托盘，窗口关闭仅隐藏，托盘右键菜单：
  - 打开设置
  - 展开侧边栏
  - 重载配置
  - 退出程序
- 首次启动欢迎向导（深色模式、悬浮球透明度、考勤概览宽度、托盘点击行为、是否默认收起、默认路径）。
- 考勤流程：
  1. 点击侧栏“班级考勤”
  2. 弹出完整名单窗口供班长勾选缺勤
  3. 保存后右下角底层概览仅展示：应到 / 实到 / 缺勤名单（固定底边、自动换行、向上增长）
- 取消了 ClassIsland 快速换课默认按钮。
- 设置页支持按钮管理（添加/删除/上移/下移，系统按钮不可删除）。

---

## 图标放置与命名规则（重要）

请将图标放到 `assets/` 目录，并在 `resources.qrc` 中按需注册（或在设置中选择本地绝对路径）。

### 推荐格式

- `PNG`（推荐）
- `SVG`
- `ICO`
- `JPG`

### 推荐命名

- `icon_tray.png`：托盘图标
- `icon_expand.png`：悬浮球中的“展开”图标
- `icon_collapse.png`：侧栏“收起”按钮图标
- `icon_settings.png`：侧栏“设置”按钮图标
- `icon_seewo.png`：希沃按钮
- `icon_attendance.png`：考勤按钮
- `icon_random.png`：随机点名按钮
- `icon_ai.png`：AI 按钮

> 如果图标缺失，程序会自动回退到文字或系统图标，不会崩溃。

---

## 构建

### Linux / macOS

```bash
chmod +x build.sh
./build.sh clean release
```

### Windows

```bat
build.bat clean release
```

如果提示找不到 `Qt5Config.cmake`，请安装 Qt5 开发环境并设置 `CMAKE_PREFIX_PATH`。

---

## 设置项说明

当前设置页可修改：

- 深色模式
- 悬浮球透明度
- 考勤概览宽度
- 托盘单击是否展开侧栏
- 启动时是否显示考勤概览
- 启动时是否默认收起
- 默认程序路径
- 名单导入（CSV/TXT；XLS/XLSX 需先另存为 CSV/TXT）
- 自定义按钮管理
- 一键恢复默认设置（包含默认按钮与默认名单）

> 侧栏宽度与图标大小已固定，不允许在设置中修改，以优先保证稳定性。
